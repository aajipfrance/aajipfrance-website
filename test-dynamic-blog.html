<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Blog Dynamique - AAJIP-FRANCE</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 40px; 
            line-height: 1.6;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .test-link {
            display: inline-block;
            margin: 10px;
            padding: 10px 20px;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 5px;
        }
        .test-link:hover {
            background: #5a67d8;
        }
        .success {
            color: green;
            font-weight: bold;
        }
        .error {
            color: red;
            font-weight: bold;
        }
        .info {
            color: blue;
            font-weight: bold;
        }
        .blog-preview {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
        }
        .blog-preview h3 {
            margin: 0 0 10px 0;
            color: #333;
        }
        .blog-preview p {
            margin: 5px 0;
            color: #666;
        }
        .blog-preview .meta {
            font-size: 0.9rem;
            color: #888;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <h1>üß™ Test du Blog Dynamique - AAJIP-FRANCE</h1>
    
    <div class="test-section">
        <h2>‚úÖ Fonctionnalit√© impl√©ment√©e !</h2>
        <p class="success">Le blog sur la page d'accueil charge maintenant dynamiquement les articles depuis articles.json :</p>
        <ul>
            <li>‚úÖ <strong>Chargement automatique</strong> des 3 articles les plus r√©cents</li>
            <li>‚úÖ <strong>Tri par date</strong> (du plus r√©cent au plus ancien)</li>
            <li>‚úÖ <strong>Liens directs</strong> vers les articles individuels</li>
            <li>‚úÖ <strong>√âtats de chargement</strong> et d'erreur g√©r√©s</li>
            <li>‚úÖ <strong>Animations</strong> lors de l'affichage</li>
        </ul>
    </div>
    
    <div class="test-section">
        <h2>üìù Aper√ßu des articles qui s'afficheront</h2>
        <div id="articlesPreview">
            <p>Chargement des articles...</p>
        </div>
    </div>
    
    <div class="test-section">
        <h2>üîó Test des pages</h2>
        <p>Cliquez sur les liens ci-dessous pour tester :</p>
        
        <a href="index.html" class="test-link">üìÑ Page d'accueil (blog dynamique)</a>
        <a href="blog.html" class="test-link">üìù Page du blog complet</a>
        <a href="article.html?id=nouveaux-programmes-2024" class="test-link">üÜï Article exemple</a>
    </div>
    
    <div class="test-section">
        <h2>üéØ Comment √ßa fonctionne</h2>
        <ol>
            <li><strong>Au chargement de index.html</strong>, la fonction <code>loadHomepageBlogArticles()</code> est appel√©e</li>
            <li><strong>Fetch de articles.json</strong> pour r√©cup√©rer tous les articles</li>
            <li><strong>Tri par date</strong> et s√©lection des 3 plus r√©cents</li>
            <li><strong>G√©n√©ration du HTML</strong> pour chaque article avec :</li>
            <ul>
                <li>Image de l'article</li>
                <li>Cat√©gorie</li>
                <li>Date format√©e</li>
                <li>Auteur</li>
                <li>Titre</li>
                <li>Extrait</li>
                <li>Lien vers l'article complet</li>
            </ul>
            <li><strong>Remplacement du contenu</strong> dans <code>#homepageBlogGrid</code></li>
            <li><strong>Animations</strong> pour une apparition fluide</li>
        </ol>
    </div>
    
    <div class="test-section">
        <h2>üîß Gestion des erreurs</h2>
        <ul>
            <li>‚úÖ <strong>Erreur de r√©seau</strong> : Affichage d'un message d'erreur avec bouton "R√©essayer"</li>
            <li>‚úÖ <strong>Aucun article</strong> : Affichage d'un message "Aucun article disponible"</li>
            <li>‚úÖ <strong>Chargement</strong> : Affichage d'un spinner pendant le chargement</li>
            <li>‚úÖ <strong>Console</strong> : Logs d√©taill√©s pour le d√©bogage</li>
        </ul>
    </div>
    
    <div class="test-section">
        <h2>üìä Avantages</h2>
        <ul>
            <li>‚úÖ <strong>Contenu toujours √† jour</strong> : Les articles s'actualisent automatiquement</li>
            <li>‚úÖ <strong>Maintenance simplifi√©e</strong> : Un seul fichier articles.json √† modifier</li>
            <li>‚úÖ <strong>Performance optimis√©e</strong> : Seulement 3 articles charg√©s sur la page d'accueil</li>
            <li>‚úÖ <strong>UX am√©lior√©e</strong> : Animations et √©tats de chargement</li>
            <li>‚úÖ <strong>SEO optimis√©</strong> : Contenu dynamique et liens directs</li>
        </ul>
    </div>
    
    <script>
        // Test automatique du contenu dynamique
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üîç Test du blog dynamique...');
            
            // Charger les articles
            fetch('articles.json')
                .then(response => response.json())
                .then(data => {
                    const articles = data.articles;
                    
                    // Trier par date et prendre les 3 plus r√©cents
                    const recentArticles = articles
                        .sort((a, b) => new Date(b.date) - new Date(a.date))
                        .slice(0, 3);
                    
                    // Afficher l'aper√ßu
                    const preview = document.getElementById('articlesPreview');
                    preview.innerHTML = recentArticles.map(article => `
                        <div class="blog-preview">
                            <h3>${article.title}</h3>
                            <div class="meta">
                                <strong>Date:</strong> ${new Date(article.date).toLocaleDateString('fr-FR')} | 
                                <strong>Cat√©gorie:</strong> ${article.category} | 
                                <strong>Auteur:</strong> ${article.author}
                            </div>
                            <p><strong>Extrait:</strong> ${article.excerpt}</p>
                            <p><strong>Lien:</strong> <a href="article.html?id=${article.id}">Voir l'article complet</a></p>
                        </div>
                    `).join('');
                    
                    console.log(`‚úÖ ${recentArticles.length} articles r√©cents charg√©s pour la page d'accueil`);
                    console.log('üìÖ Articles tri√©s par date (du plus r√©cent au plus ancien)');
                    
                })
                .catch(error => {
                    console.error('‚ùå Erreur lors du test:', error);
                    document.getElementById('articlesPreview').innerHTML = 
                        '<p class="error">Erreur lors du chargement des articles</p>';
                });
        });
    </script>
</body>
</html>
